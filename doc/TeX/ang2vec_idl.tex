% -*- LaTeX -*-


\renewcommand{\facname}{{ang2vec}}
\renewcommand{\FACNAME}{{ANG2VEC}}

\sloppy



\title{\healpix IDL Facility User Guidelines}
\docid{\facname} \section[\facname]{ }
\label{idl:ang2vec}
\docrv{Version 1.0}
\author{Eric Hivon}
\abstract{This document describes the \healpix IDL facility \facname.}




\begin{facility}
{This IDL facility convert the position angles of points on the sphere 
into their 3D position vectors.
}
{src/idl/toolkit/ang2vec.pro}
\end{facility}

\begin{IDLformat}
{\FACNAME, \mylink{idl:ang2vec:Theta}{Theta}%
, \mylink{idl:ang2vec:Phi}{Phi}%
, \mylink{idl:ang2vec:Vector}{Vector}%
 [, \mylink{idl:ang2vec:ASTRO}{ASTRO=}%
]}
\end{IDLformat}

\begin{qualifiers}
  \begin{qulist}{} %%%% NOTE the ``extra'' brace here %%%%
    \item[Theta\mytarget{idl:ang2vec:Theta}%
] input: scalar or vector, \\
	colatitude in radians measured southward from north pole (in
    [0,$\pi$]).\\
       If ASTRO is set, Theta is the latitude in degrees measured 
       northward from the equator (in [-90, 90]).
    \item[Phi\mytarget{idl:ang2vec:Phi}%
] input: scalar or vector of same size as Theta, \\
	longitude in radians measured eastward (in [0, $2\pi$]).\\
 	If ASTRO is set, it is the longitude in degree measured eastward (in
    [0,360]).
    \item[Vector\mytarget{idl:ang2vec:Vector}%
] output : array, \\
	three dimensional cartesian position vector
                   $(x,y,z)$ normalised to unity. The north pole is $(0,0,1)$. 
	The coordinates are ordered as follows
                   $x(0),\ldots,x(n-1),\ y(0),\ldots,y(n-1),\ z(0),\ldots,z(n-1)$
  \end{qulist}
\end{qualifiers}

\begin{keywords}
  \begin{kwlist}{} %%% extra brace
    \item[ASTRO\mytarget{idl:ang2vec:ASTRO}%
 =] if set Theta and Phi are the latitude and longitude in
    degrees instead of the colatitude and longitude in radians.
  \end{kwlist}
\end{keywords}  

\begin{codedescription}
{\facname{} performs the geometrical transform from the position angles of points 
$(\theta,\phi)$
into their position vectors $(x,y,z)$:
$x = \sin\theta\cos\phi$, $y=\sin\theta\sin\phi$, $z=\cos\theta$}
\end{codedescription}



\begin{related}
  \begin{sulist}{} %%%% NOTE the ``extra'' brace here %%%%
    \item[idl] version \idlversion or more is necessary to run \facname.	
    \item[\htmlref{pix2xxx}{idl:pix_tools}, ... ] conversion between vector or angles and pixel index
    \item[\htmlref{vec2ang}{idl:vec2ang}] conversion from position vectors to angles
  \end{sulist}
\end{related}

\begin{example}
{
\begin{tabular}{ll} %%%% use this tabular format %%%%
lat = -45 ; latitude in degrees \\
long = 120 ; longitude in degrees \\
ang2vec, lat, lon, /astro, vec
\end{tabular}
}
{will return in {\tt vec} the 3D cartesian position vector of the point of latitude -45 deg and longitude 120 deg
}
\end{example}

