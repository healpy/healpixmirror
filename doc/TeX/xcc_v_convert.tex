\sloppy


\title{\healpix Fortran Subroutines Overview}
\docid{xcc\_v\_convert} \section[xcc\_v\_convert]{ }
\label{sub:xcc_v_convert}
\docrv{Version 2.0}
\author{Eric Hivon}
\abstract{This document describes the \healpix Fortran90 subroutine XCC\_V\_CONVERT.}

\begin{facility}
{This routine rotates a 3D coordinate vector from one astronomical coordinate
system to another.}
{\modCoordVConvert}
\end{facility}

\begin{f90format}
{\mylink{sub:xcc_v_convert:ivector}{ivector}%
, \mylink{sub:xcc_v_convert:iepoch}{iepoch}%
, \mylink{sub:xcc_v_convert:oepoch}{oepoch}%
, \mylink{sub:xcc_v_convert:isys}{isys}%
, \mylink{sub:xcc_v_convert:osys}{osys}%
, \mylink{sub:xcc_v_convert:ovector}{ovector}%
}
\end{f90format}

\begin{arguments}
{
\begin{tabular}{p{0.26\hsize} p{0.05\hsize} p{0.09\hsize} p{0.50\hsize}} \hline  
\textbf{name~\&~dimensionality} & \textbf{kind} & \textbf{in/out} & \textbf{description} \\ \hline
                   &   &   &                           \\ %%% for presentation
ivector\mytarget{sub:xcc_v_convert:ivector}(1:3) & DP & IN & 3D coordinate vector of one astronomical object, 
 in the input coordinate system.\\
iepoch\mytarget{sub:xcc_v_convert:iepoch} & DP & IN & epoch of the input astronomical coordinate system.\\
oepoch\mytarget{sub:xcc_v_convert:oepoch} & DP & IN & epoch of the output astronomical coordinate system.\\
isys\mytarget{sub:xcc_v_convert:isys}(len=*) & CHR & IN & input coordinate system, should be one of 'E'=Ecliptic, 'G'=Galactic, 'C'/'Q'=Celestial/eQuatorial.\\
osys\mytarget{sub:xcc_v_convert:osys}(len=*) & CHR & IN & output coordinate system, same choice as above.\\
ovector\mytarget{sub:xcc_v_convert:ovector}(1:3) & DP & IN & 3D coordinate vector of the same object, 
 in the output coordinate system.\\
\end{tabular}
}
\end{arguments}

\begin{example}
{
use healpix\_types \\
use coord\_v\_convert, only: xcc\_v\_convert \\
real(dp) :: vecin(1:3), vecout(1:3) \\
vecin = (/ 0\_dp, 0\_dp, 1\_dp /) \\
call xcc\_v\_convert(vecin, 2000.0\_dp, 2000.0\_dp, 'g', 'c', vecout)  \\
}
{Will produce in {\tt vecout} the location in Celestial coordinates (2000 epoch) of
the North Galactic Pole (defined in {\tt vecin})
}
\end{example}

% \begin{modules}
%   \begin{sulist}{} %%%% NOTE the ``extra'' brace here %%%%
%   \item[\textbf{alm\_tools}] module, containing:
% 	\item[\htmlref{generate\_beam}{sub:generate_beam}] routine to generate beam window function
% 	\item[\htmlref{pixel\_window}{sub:pixel_window}] routine to generate pixel window function
%   \end{sulist}
% \end{modules}

\begin{related}
  \begin{sulist}{} %%%% NOTE the ``extra'' brace here %%%%
   \item[\htmlref{coordsys2euler\_zyz}{sub:coordsys2euler_zyz}] produces the
Euler angles
 $\psi, \theta, \varphi$ in (Z,Y,Z) convention for rotation between standard astronomical coordinate systems.
  \item[\htmlref{ang2vec}{sub:ang2vec}, \htmlref{vec2ang}{sub:vec2ang}] Routine to convert spherical coordinates
  (co-latitude and longitude) into 3D vector coordinates and vice-versa.
  \end{sulist}
\end{related}

\rule{\hsize}{2mm}

\newpage
