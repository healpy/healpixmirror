% -*- LaTeX -*-




\sloppy



\title{\healpix IDL Facility User Guidelines}
\docid{convert\_oldhpx2cmbfast} \section[convert\_oldhpx2cmbfast]{ }
\label{idl:convert_oldhpx2cmbfast}
\docrv{Version 1.2}
\author{Eric Hivon}
\abstract{This document describes the \healpix IDL facility convert\_oldhpx2cmbfast.}




\begin{facility}
{This IDL facility provides a means to
change the normalization of polarization power spectra in a FITS file
from Healpix 1.1 convention to Healpix 1.2 (which is the same as CMBFAST).
}
{src/idl/fits/convert\_oldhpx2cmbfast.pro}
\end{facility}

\begin{IDLformat}
{{CONVERT\_OLDHPX2CMBFAST}%
, \mylink{idl:convert_oldhpx2cmbfast:file_in}{file\_in}%
, [\mylink{idl:convert_oldhpx2cmbfast:file_out}{file\_out}%
, \mylink{idl:convert_oldhpx2cmbfast:NO_RENORM}{NO\_RENORM=}%
 ]}
\end{IDLformat}

\begin{qualifiers}
  \begin{qulist}{} %%%% NOTE the ``extra'' brace here %%%%
    \item[file\_in\mytarget{idl:convert_oldhpx2cmbfast:file_in}%
] String containing the name of the FITS file with the power
    spectra to be read.
    \item[file\_out\mytarget{idl:convert_oldhpx2cmbfast:file_out}%
] (OPTIONAL) String containing the name of the file to be
    written after renormalization. If absent, {\tt file\_in} will be used for output
  \end{qulist}
\end{qualifiers}

\begin{keywords}
  \begin{kwlist}{} %%% extra brace
    \item[NO\_RENORM\mytarget{idl:convert_oldhpx2cmbfast:NO_RENORM}%
 =] if set, the renormalization is not done.
      but the keyword POLNORM = CMBFAST is added to the FITS header
   (useful if the FITS file is already in CMBFAST format).
  \end{kwlist}
\end{keywords}  

\begin{codedescription}
{convert\_oldhpx2cmbfast does the conversion from the polarization normalisation
used in \healpix 1.1 to the one used in \healpix 1.2 
(see the 
\latexhtml{\htmladdnormallink{{Healpix primer document}}{intro.pdf}}{
\htmladdnormallink{{Healpix primer document}}{intro.htm}}).
A keyword POLNORM = CMBFAST is added to the header to keep track of which
files have been renormalized.  If this keyword is not present in the input FITS
file, \textbf{synfast} will issue a
warning when simulating a polarization map from that power spectrum, but no
attempt to renormalize the power spectra will be made. 
}
\end{codedescription}



\begin{related}
  \begin{sulist}{} %%%% NOTE the ``extra'' brace here %%%%
    \item[idl] version \idlversion or more is necessary to run convert\_oldhpx2cmbfast.
    \item[\htmlref{cl2fits}{idl:cl2fits}] provides the a routine to write a
      power spectrum to a FITS file.
    \item[\htmlref{fits2cl}{idl:fits2cl}] provides the complimentary routine to read in a
      power spectrum from a FITS file.
    \item[synfast] utilises the output file generated by convert\_oldhpx2cmbfast.
  \end{sulist}
\end{related}

\begin{example}
{
\begin{tabular}{ll} %%%% use this tabular format %%%%
convert\_oldhpx2cmbfast, 'cl\_flat.fits'
\end{tabular}
}
{
convert\_oldhpx2cmbfast will renormalize the polarization power spectra read
from 'cl\_flat.fits', and write them in the same file.
}
\end{example}


